---
import Layout from "../../layouts/Layout.astro";
import ParameterDoc from "../../components/ParameterDoc.astro";
import BackgroundDocs from "../../components/BackgroundDocs.astro";
import GridDocs from "../../components/GridDocs.astro";
---

<Layout title="Camera API Documentation - Neuro Exercises">
    <main class="min-h-screen bg-background">
        <!-- Header -->
        <header class="bg-gradient-to-r from-primary/10 to-secondary/10 border-b border-border py-12 px-4 sm:px-6 lg:px-8">
            <div class="mx-auto max-w-4xl">
                <div class="flex items-center gap-3 mb-2">
                    <div class="w-3 h-3 rounded-full bg-primary"></div>
                    <span class="text-sm font-medium text-primary">API Documentation</span>
                </div>
                <h1 class="text-4xl font-bold text-foreground mb-3">Camera Exercise Configuration</h1>
                <p class="text-muted-foreground text-lg max-w-2xl">
                    Configure and control the fullscreen camera exercise using URL parameters for object detection or emotion detection.
                </p>

                <!-- Quick Navigation -->
                <div class="flex flex-wrap gap-2 mt-6">
                    <a href="#basic-parameters" class="text-sm bg-background hover:bg-secondary border border-border px-3 py-1.5 rounded-full transition-colors">
                        Basic Parameters
                    </a>
                </div>
            </div>
        </header>

        <div class="py-12 px-4 sm:px-6 lg:px-8">
            <div class="mx-auto max-w-4xl">

                <!-- Introduction -->
                <div class="prose prose-lg max-w-none mb-12">
                    <p class="text-muted-foreground">
                        The Camera Exercise API allows fullscreen camera interaction with different gamemodes.
                        Configure detection mode, camera facing, sensitivity, and debug overlays via URL parameters.
                    </p>
                </div>

                <div class="space-y-10">

                    <!-- Basic Parameters -->
                    <section id="basic-parameters">
                        <div class="flex items-center gap-3 mb-6">
                            <div class="w-2 h-8 bg-primary rounded-full"></div>
                            <h2 class="text-2xl font-bold text-foreground">Basic Parameters</h2>
                        </div>
                        <p class="text-muted-foreground mb-6">Core parameters that define the camera exercise behavior.</p>

                        <div class="space-y-6">
                            <ParameterDoc
                                    name="gamemode"
                                    description="Selects the detection mode. Options: detectObject, detectFaceEmotion."
                                    type="String"
                                    defaultValue="detectObject"
                                    examples={['/?gamemode=detectObject', '/?gamemode=detectFaceEmotion']}
                                    codeExample="?gamemode=detectFaceEmotion"
                            />

                            <ParameterDoc
                                    name="cameraFacing"
                                    description="Choose which camera to use: user (front) or environment (back)."
                                    type="String"
                                    defaultValue="environment"
                                    examples={['/?cameraFacing=user']}
                                    codeExample="?cameraFacing=user"
                            />

                            <ParameterDoc
                                    name="sensitivity"
                                    description="Detection sensitivity (0 to 1)."
                                    type="Number (0-1)"
                                    defaultValue="0.6"
                                    examples={['/?sensitivity=0.8']}
                                    codeExample="?sensitivity=0.8"
                            />

                            <ParameterDoc
                                    name="displayHorizontal"
                                    description="Controls the horizontal position of the predictions panel: left, center, or right."
                                    type="String"
                                    defaultValue="right"
                                    examples={['/?displayHorizontal=center']}
                                    codeExample="?displayHorizontal=left"
                            />

                            <ParameterDoc
                                    name="displayVertical"
                                    description="Controls the vertical position of the predictions panel: top, middle, or bottom."
                                    type="String"
                                    defaultValue="top"
                                    examples={['/?displayVertical=bottom']}
                                    codeExample="?displayVertical=middle"
                            />

                            <ParameterDoc
                                    name="maxDisplayItems"
                                    description="Maximum number of predictions shown simultaneously."
                                    type="Number"
                                    defaultValue="5"
                                    examples={['/?maxDisplayItems=3']}
                                    codeExample="?maxDisplayItems=8"
                            />
                        </div>
                    </section>


                    <!-- Complete Example -->
                    <section>
                        <div class="bg-primary/10 border border-primary rounded-lg p-6">
                            <h2 class="text-2xl font-bold text-foreground mb-3">Complete Example</h2>
                            <p class="text-muted-foreground mb-4">A full camera configuration example:</p>


                            <div class="bg-secondary rounded-lg p-4 overflow-x-auto">
                                <code class="text-sm text-foreground whitespace-nowrap">
                                    {"/?gamemode=detectFaceEmotion&cameraFacing=user&sensitivity=0.7"}
                                </code>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</Layout>
